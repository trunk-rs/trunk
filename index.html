<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Trunk | Build, bundle &amp; ship your Rust WASM application to the web</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
    :root {
        /* Primary theme color */
        --primary-color: #FED43F;
        /* Primary theme text color */
        --primary-text-color: #543631;
        /* Primary theme link color */
        --primary-link-color: #F9BB2D;
        /* Secondary color: the background body color */
        --secondary-color: #fcfaf6;
        --secondary-text-color: #303030;
        /* Highlight text color of table of content */
        --toc-highlight-text-color: #d46e13;
    }
</style>
    <link href="https://fonts.googleapis.com/css?family=Alfa+Slab+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans:400,500,600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/normalize.css">
    <link rel="stylesheet" href="https:&#x2F;&#x2F;trunkrs.dev&#x2F;juice.css">
    
<link rel="icon" type="image/svg+xml" href="https:&#x2F;&#x2F;trunkrs.dev&#x2F;rustacean-flat-happy.svg">

</head>

<body>
    

    <header class="pos-absolute" style="background-color: transparent">
        

<a href="https:&#x2F;&#x2F;trunkrs.dev&#x2F;">
    <div class="logo">
        <img src="https:&#x2F;&#x2F;trunkrs.dev&#x2F;rustacean-flat-happy.svg" alt="logo">
        Trunk
    </div>
</a>

<nav>
    
    <a class="nav-item subtitle-text" href="https:&#x2F;&#x2F;trunkrs.dev&#x2F;assets&#x2F;">Assets</a>
    
    <a class="nav-item subtitle-text" href="https:&#x2F;&#x2F;trunkrs.dev&#x2F;configuration&#x2F;">Configuration</a>
    
    <a class="nav-item subtitle-text" href="https:&#x2F;&#x2F;trunkrs.dev&#x2F;commands&#x2F;">Commands</a>
    
    
        
        <a class="nav-item subtitle-text" href="https:&#x2F;&#x2F;github.com&#x2F;trunk-rs&#x2F;trunk">Github</a>
        
    
</nav>

    </header>

    <div class="hero">
        
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <section class="text-center">
        <h1 class="heading-text">
            Build, bundle & ship your Rust WASM application to the web
        </h1>
        <h3 class="title-text">
            ‚ÄùPack your things, we‚Äôre going on an adventure!‚Äù<br/>~ Ferris
        </h3>
        <div>
            <a class="github-button" href="https://github.com/trunk-rs/trunk" data-size="small" data-show-count="true" aria-label="Star trunk-rs/trunk on GitHub">Star</a>
            <a href="https://crates.io/crates/trunk">
                <img src="https://img.shields.io/crates/v/trunk.svg?color=brightgreen&style=flat-square"/>
            </a>
            <a href="https://formulae.brew.sh/formula/trunk">
                <img src="https://img.shields.io/homebrew/v/trunk?color=brightgreen&style=flat-square"/>
            </a>
            <img src="https://img.shields.io/badge/license-MIT%2FApache--2.0-blue?style=flat-square"/>
            <br/>
            <a href="https://discord.gg/JEPdBujTDr">
                <img src="https://img.shields.io/discord/793890238267260958?logo=discord&style=flat-square" alt="Discord Chat"/>
            </a>
            <img src="https://img.shields.io/crates/d/trunk?label=downloads%20%28crates.io%29&style=flat-square"/>
            <img src="https://img.shields.io/github/downloads/trunk-rs/trunk/total?label=downloads%20%28GH%29&style=flat-square" alt="Number of downloads"/>
        </div>
    </section>
    <img class="hero-image" style="width: 50%" src="https:&#x2F;&#x2F;trunkrs.dev&#x2F;rustacean-flat-happy.svg">

    <div class="explore-more text" onclick="document.getElementById('features').scrollIntoView({behavior: 'smooth'})">
        Explore More ‚á©
    </div>
    <style>
        .hero section {
            padding: 0 5rem;
        }

        @media screen and (max-width: 768px) {
            .hero section {
                padding: 0 2rem;
            }

            .hero-image {
                display: none
            }
        }
    </style>

    </div>

    

    <main>
        
        
        
        
        
        <div class="toc">
            <div class="toc-sticky">
                
                <div class="toc-item">
                    <a class="subtext" href="https://trunkrs.dev/#getting-started">Getting Started</a>
                </div>
                
                
                <div class="toc-item-child">
                    <a class="subtext" href="https://trunkrs.dev/#install"><small>- Install</small></a>
                </div>
                
                <div class="toc-item-child">
                    <a class="subtext" href="https://trunkrs.dev/#additional-tools"><small>- Additional tools</small></a>
                </div>
                
                <div class="toc-item-child">
                    <a class="subtext" href="https://trunkrs.dev/#app-setup"><small>- App Setup</small></a>
                </div>
                
                <div class="toc-item-child">
                    <a class="subtext" href="https://trunkrs.dev/#javascript-interoperability"><small>- JavaScript interoperability</small></a>
                </div>
                
                <div class="toc-item-child">
                    <a class="subtext" href="https://trunkrs.dev/#library-crate"><small>- Library crate</small></a>
                </div>
                
                
                
                <div class="toc-item">
                    <a class="subtext" href="https://trunkrs.dev/#next-steps">Next Steps</a>
                </div>
                
                
                <div class="toc-item">
                    <a class="subtext" href="https://trunkrs.dev/#contributing">Contributing</a>
                </div>
                
                
                <div class="toc-item">
                    <a class="subtext" href="https://trunkrs.dev/#license">License</a>
                </div>
                
                
            </div>
        </div>
        
        

        <div class="content text">
            
            <div id="features" class="heading-text">Overview</div>
            <p>Trunk is a WASM web application bundler for Rust. Trunk uses a simple, optional-config pattern for building &amp; bundling WASM, JS snippets &amp; other assets (images, css, scss) via a source HTML file.</p>
<h1 id="getting-started">Getting Started</h1>
<h2 id="install">Install</h2>
<p>First, install Trunk via one of the following options.</p>
<h3 id="plain-cargo">Plain cargo</h3>
<p>Download the sources and build them yourself:</p>
<pre style="background-color:#ffffff;">
<code><span style="color:#323232;">cargo install --locked trunk
</span></code></pre><h3 id="cargo-binstall">Cargo binstall</h3>
<p>You can download a released binary from GitHub releases through <a href="https://github.com/cargo-bins/cargo-binstall"><code>binstall</code></a>.</p>
<pre style="background-color:#ffffff;">
<code><span style="color:#323232;">cargo binstall trunk
</span></code></pre><h3 id="github-release-download">GitHub release download</h3>
<p>Fetch and unpack a released binary from the <a href="https://github.com/trunk-rs/trunk/releases">release page</a>.</p>
<p>For example (be sure to check for the most recent version):</p>
<pre style="background-color:#ffffff;">
<code><span style="color:#323232;">wget -qO- https://github.com/trunk-rs/trunk/releases/download/0.17.10/trunk-x86_64-unknown-linux-gnu.tar.gz | tar -xzf-
</span></code></pre><h3 id="nixos">NixOS</h3>
<p><strong>Note:</strong> <code>trunk</code> is currently in the <code>unstable</code> channel. It should be part of the next release.</p>
<pre style="background-color:#ffffff;">
<code><span style="color:#323232;">nix-env -i trunk
</span></code></pre><h3 id="brew">Brew</h3>
<pre style="background-color:#ffffff;">
<code><span style="color:#323232;">brew install trunk
</span></code></pre><h2 id="additional-tools">Additional tools</h2>
<p>Any additional tools like <code>wasm-bindgen</code> and <code>wasm-opt</code> are automatically downloaded and managed by trunk. Therefore, no further steps required üéâ.</p>
<p><strong>Note:</strong> Until <code>wasm-bindgen</code> has pre-built binaries for Apple M1, M1 users will need to install <code>wasm-bindgen</code> manually.</p>
<pre style="background-color:#ffffff;">
<code><span style="color:#323232;">cargo install --locked wasm-bindgen-cli
</span></code></pre><h2 id="app-setup">App Setup</h2>
<p>Get setup with your favorite <code>wasm-bindgen</code> based framework. <a href="https://github.com/yewstack/yew">Yew</a> &amp; <a href="https://github.com/seed-rs/seed">Seed</a> are the most popular options today, but there are others. Trunk will work with any <code>wasm-bindgen</code> based framework. The easiest way to ensure that your application launches properly is to <a href="https://doc.rust-lang.org/cargo/guide/project-layout.html">setup your app as an executable</a> with a standard <code>main</code> function:</p>
<pre style="background-color:#ffffff;">
<code><span style="font-weight:bold;color:#a71d5d;">fn </span><span style="font-weight:bold;color:#795da3;">main</span><span style="color:#323232;">() {
    </span><span style="font-style:italic;color:#969896;">// ... your app setup code here ...
</span><span style="color:#323232;">}
</span></code></pre>
<p>Trunk uses a source HTML file to drive all asset building and bundling. Trunk also uses the official <a href="https://github.com/sass/dart-sass">dart-sass</a>, so let's get started with the following example. Copy this HTML to the root of your project's repo as <code>index.html</code>:</p>
<pre style="background-color:#ffffff;">
<code><span style="color:#323232;">&lt;</span><span style="color:#63a35c;">html</span><span style="color:#323232;">&gt;
  &lt;</span><span style="color:#63a35c;">head</span><span style="color:#323232;">&gt;
    &lt;</span><span style="color:#63a35c;">link </span><span style="color:#795da3;">data-trunk rel</span><span style="color:#323232;">=</span><span style="color:#183691;">&quot;scss&quot; </span><span style="color:#795da3;">href</span><span style="color:#323232;">=</span><span style="color:#183691;">&quot;path/to/index.scss&quot;</span><span style="color:#323232;">/&gt;
  &lt;/</span><span style="color:#63a35c;">head</span><span style="color:#323232;">&gt;
&lt;/</span><span style="color:#63a35c;">html</span><span style="color:#323232;">&gt;
</span></code></pre>
<p><code>trunk build</code> will produce the following HTML at <code>dist/index.html</code>, along with the compiled scss, WASM &amp; the JS loader for the WASM:</p>
<pre style="background-color:#ffffff;">
<code><span style="color:#323232;">&lt;</span><span style="color:#63a35c;">html</span><span style="color:#323232;">&gt;
  &lt;</span><span style="color:#63a35c;">head</span><span style="color:#323232;">&gt;
    &lt;</span><span style="color:#63a35c;">link </span><span style="color:#795da3;">rel</span><span style="color:#323232;">=</span><span style="color:#183691;">&quot;stylesheet&quot; </span><span style="color:#795da3;">href</span><span style="color:#323232;">=</span><span style="color:#183691;">&quot;/index-c920ca43256fdcb9.css&quot;</span><span style="color:#323232;">&gt;
    &lt;</span><span style="color:#63a35c;">link </span><span style="color:#795da3;">rel</span><span style="color:#323232;">=</span><span style="color:#183691;">&quot;preload&quot; </span><span style="color:#795da3;">href</span><span style="color:#323232;">=</span><span style="color:#183691;">&quot;/index-7eeee8fa37b7636a_bg.wasm&quot; </span><span style="color:#795da3;">as</span><span style="color:#323232;">=</span><span style="color:#183691;">&quot;fetch&quot; </span><span style="color:#795da3;">type</span><span style="color:#323232;">=</span><span style="color:#183691;">&quot;application/wasm&quot; </span><span style="color:#795da3;">crossorigin</span><span style="color:#323232;">=</span><span style="color:#183691;">&quot;&quot;</span><span style="color:#323232;">&gt;
    &lt;</span><span style="color:#63a35c;">link </span><span style="color:#795da3;">rel</span><span style="color:#323232;">=</span><span style="color:#183691;">&quot;modulepreload&quot; </span><span style="color:#795da3;">href</span><span style="color:#323232;">=</span><span style="color:#183691;">&quot;/index-7eeee8fa37b7636a.js&quot;</span><span style="color:#323232;">&gt;
  &lt;/</span><span style="color:#63a35c;">head</span><span style="color:#323232;">&gt;
  &lt;</span><span style="color:#63a35c;">body</span><span style="color:#323232;">&gt;
    &lt;</span><span style="color:#63a35c;">script </span><span style="color:#795da3;">type</span><span style="color:#323232;">=</span><span style="color:#183691;">&quot;module&quot;</span><span style="color:#323232;">&gt;
      </span><span style="font-weight:bold;color:#a71d5d;">import </span><span style="color:#323232;">init, </span><span style="color:#0086b3;">* </span><span style="font-weight:bold;color:#a71d5d;">as </span><span style="color:#323232;">bindings </span><span style="font-weight:bold;color:#a71d5d;">from </span><span style="color:#183691;">&#39;/index-7eeee8fa37b7636a.js&#39;</span><span style="color:#323232;">;
      </span><span style="color:#0086b3;">window</span><span style="color:#323232;">.wasmBindings </span><span style="font-weight:bold;color:#a71d5d;">= </span><span style="color:#323232;">bindings;
      init(</span><span style="color:#183691;">&#39;/index-7eeee8fa37b7636a_bg.wasm&#39;</span><span style="color:#323232;">);
    &lt;/</span><span style="color:#63a35c;">script</span><span style="color:#323232;">&gt;
  &lt;/</span><span style="color:#63a35c;">body</span><span style="color:#323232;">&gt;
&lt;/</span><span style="color:#63a35c;">html</span><span style="color:#323232;">&gt;
</span></code></pre>
<p>The contents of your <code>dist</code> dir are now ready to be served on the web.</p>
<h2 id="javascript-interoperability">JavaScript interoperability</h2>
<p>Trunk will create the necessary JavaScript code to bootstrap and run the WebAssembly based application. It will also
include all JavaScript snippets generated by <code>wasm-bindgen</code> for interfacing with JavaScript functionality.</p>
<p>By default, functions exported from Rust, using <code>wasm-bingen</code>, can be accessed in the JavaScript code through the global
variable <code>window.wasmBindings</code>. This behavior can be disabled, and the name can be customized. </p>
<h2 id="library-crate">Library crate</h2>
<p>Aside from having a <code>main</code> function, it is also possible to up your project as a <code>cdylib</code> project. In order to do that,
add the following to your <code>Cargo.toml</code>:</p>
<pre style="background-color:#ffffff;">
<code><span style="color:#323232;">[lib]
</span><span style="color:#63a35c;">crate-type </span><span style="color:#323232;">= [</span><span style="color:#183691;">&quot;cdylib&quot;</span><span style="color:#323232;">, </span><span style="color:#183691;">&quot;rlib&quot;</span><span style="color:#323232;">]
</span></code></pre>
<p>And then, define the entrypoint in your <code>lib.rs</code> like (does not need to be <code>async</code>):</p>
<pre style="background-color:#ffffff;">
<code><span style="color:#323232;">#[wasm_bindgen(start)]
</span><span style="font-weight:bold;color:#a71d5d;">pub</span><span style="color:#323232;"> async </span><span style="font-weight:bold;color:#a71d5d;">fn </span><span style="font-weight:bold;color:#795da3;">run</span><span style="color:#323232;">() {}
</span></code></pre><h1 id="next-steps">Next Steps</h1>
<p>That's not all! Trunk has even more useful features. Head on over to the following sections to learn more about how to use Trunk effectively.</p>
<ul>
<li><a href="https://trunkrs.dev/assets/">Assets</a>: learn about all of Trunk's supported asset types.</li>
<li><a href="https://trunkrs.dev/configuration/">Configuration</a>: learn about Trunk's configuration system and how to use the Trunk proxy.</li>
<li><a href="https://trunkrs.dev/commands/">Commands</a>: learn about Trunk's CLI commands for use in your development workflows.</li>
<li>Join us on Discord by following this link <a href="https://discord.gg/JEPdBujTDr"><img src="https://img.shields.io/discord/793890238267260958?logo=discord&amp;style=flat-square" alt="" title="Discord Chat" /></a></li>
</ul>
<h1 id="contributing">Contributing</h1>
<p>Anyone and everyone is welcome to contribute! Please review the <a href="https://github.com/trunk-rs/trunk/blob/main/CONTRIBUTING.md">CONTRIBUTING.md</a> document for more details. The best way to get started is to find an open issue, and then start hacking on implementing it. Letting other folks know that you are working on it, and sharing progress is a great approach. Open pull requests early and often, and please use GitHub's draft pull request feature.</p>
<h1 id="license">License</h1>
<p><img src="https://img.shields.io/badge/license-MIT%2FApache--2.0-blue?style=flat-square" alt="" title="license badge" /></p>
<p>trunk (as well as trunk) is licensed under the terms of the MIT License or the Apache License 2.0, at your choosing.</p>

            
        </div>

    </main>

    
<footer>
    <p>
        <small class="subtext text-center">
            <a href="https://github.com/trunk-rs/trunk">Trunk Maintainers</a> ¬© 2023
        </small>
    </p>
    <p class="subtext text-center">
        Ferris the crab is public domain. This Ferris can be found at
        <a href="https://rustacean.net/">rustacean.net</a>
        and in the hearts of Rust users throughout the galaxy!
    </p>
    <p class="subtext text-center">
        Join us, resistance is futile
        <a href="https://discord.gg/JEPdBujTDr"><img
            src="https://img.shields.io/discord/793890238267260958?logo=discord&style=flat-square"
            style="vertical-align:text-bottom;"
            alt="Discord Chat" /></a>
    </p>
</footer>

</body>
<script>
    function highlightNav(heading) {
        let pathname = location.pathname;
        document.querySelectorAll(".toc a").forEach((item) => {
            item.classList.remove("active");
        });
        document.querySelector(".toc a[href$='" + pathname + "#" + heading + "']").classList.add("active");
    }

    let currentHeading = "";
    window.onscroll = function () {
        let h = document.querySelectorAll("h1,h2,h3,h4,h5,h6");
        let elementArr = [];

        h.forEach(item => {
            if (item.id !== "") {
                elementArr[item.id] = item.getBoundingClientRect().top;
            }
        });
        elementArr.sort();
        for (let key in elementArr) {
            if (!elementArr.hasOwnProperty(key)) {
                continue;
            }
            if (elementArr[key] > 0 && elementArr[key] < 300) {
                if (currentHeading !== key) {
                    highlightNav(key);
                    currentHeading = key;
                }
                break;
            }
        }
    }
</script>

</html>
